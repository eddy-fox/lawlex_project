<!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๋ก๊ทธ์ธ</title>
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/login.css}">
</head>
<body>
  <div class="include" th:replace="~{include/header :: header}"></div>
  <main class="page-login">
    <div class="login-container">
      <header class="login-header">
        <h1>๋ก๊ทธ์ธ</h1>
      </header>

      <div th:if="${param.error}" class="login-error-box">
        <p class="field-error" th:switch="${param.error}">
          <span th:case="'nouser'">๊ฐ์๋์ง ์์ ์์ด๋์๋๋ค.</span>
          <span th:case="'badpw'">๋น๋ฐ๋ฒํธ๊ฐ ์ผ์นํ์ง ์์ต๋๋ค.</span>
          <span th:case="*">๋ก๊ทธ์ธ์ ์คํจํ์ต๋๋ค. ๋ค์ ์๋ํด์ฃผ์ธ์.</span>
        </p>
      </div>

      <!-- ์ปจํธ๋กค๋ฌ์ ๋ง์ถค -->
      <form class="login-form" th:action="@{/member/login}" method="post" novalidate>
        <!-- ๐ฝ ์ถ๊ฐ: ๋ก๊ทธ์ธ GET ์ฟผ๋ฆฌ์ need ๊ฐ์ POST๋ก ํจ๊ป ๋ณด๋ -->
        <input type="hidden" name="need" th:value="${need}">

        <div class="form-group">
          <input class="input"
                 id="username"
                 name="memberId"
                 type="text"
                 placeholder="์์ด๋"
                 autocomplete="username"
                 required>
          <p class="field-error" id="err-username"></p>
        </div>

        <div class="form-group">
          <input class="input"
                 id="password"
                 name="memberPass"
                 type="password"
                 placeholder="๋น๋ฐ๋ฒํธ"
                 autocomplete="current-password"
                 required minlength="3">
          <p class="field-error" id="err-password"></p>
        </div>

        <div class="assist-links">
            <a th:href="@{/member/loginFind}" class="assist-link forgot-id">์์ด๋ ์ฐพ๊ธฐ</a>
            <a th:href="@{/member/loginFind}" class="assist-link forgot-pw">๋น๋ฐ๋ฒํธ ์ฐพ๊ธฐ</a>
        </div>
        
        <button type="submit" class="btn btn-primary">๋ก๊ทธ์ธ</button>
        <button type="button" class="btn btn-secondary" id="signupBtn">ํ์๊ฐ์</button>

        <!-- ์์ ๋ก๊ทธ์ธ ์์ญ -->
        <section class="social-login">
          <div class="social-buttons">
            <button type="button" class="social-btn google-btn" aria-label="๊ตฌ๊ธ ๋ก๊ทธ์ธ"
                    onclick="window.location.href='/oauth2/authorization/google'">
              <img class="logoImg" th:src="@{/img/google-logo.png}" alt="Google">
            </button>

            <button type="button" class="social-btn naver-btn" aria-label="๋ค์ด๋ฒ ๋ก๊ทธ์ธ"
                    onclick="window.location.href='/oauth2/authorization/naver'">
              <img class="logoImg" th:src="@{/img/naver-logo.png}" alt="Naver">
            </button>
          </div>
        </section>
      </form>
    </div>
  </main>
  <div class="include" th:replace="~{include/footer :: footer}"></div>
  <script th:src="@{/js/js.js}"></script>
  <script th:src="@{/js/chatIcon.js}"></script>
  <script th:src="@{/js/login.js}"></script>
  <script th:if="${alert}" th:inline="javascript">
        /*<![CDATA[*/
        alert('[[${alert}]]'); // ์๋ฌ๋ alert ๋ฉ์ธ์ง ์ถ๋ฅ
        /*]]>*/
    </script>
</body>
</html>
